window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Banner111008201:[function(t,e,n){"use strict";cc._RF.push(e,"c4766xa83dH/IBraAzxKMyM","Banner111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),a([s],e)}(slot.SlotBanner));n.default=c,cc._RF.pop()},{}],BigWinText111008201:[function(t,e,n){"use strict";cc._RF.push(e,"0e57dMvY2RMPZ0/ECCVdF/w","BigWinText111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.onBigWinTextShow,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.onBigWinTextHide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.onBigWinTextHideAll,this)},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.onBigWinTextShow,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.onBigWinTextHide,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.onBigWinTextHideAll,this)},e.prototype.onBigWinTextShow=function(t,e){"bigWin"==e.name||e.name,e.anchorY=0,cc.tween(e).set({opacity:0,scale:0}).to(.3,{opacity:255,scale:1.1}).to(.2,{scale:1}).start()},e.prototype.onBigWinTextHide=function(t,e){e.active=!1},e.prototype.onBigWinTextHideAll=function(t,e){for(var n=0,o=e.children;n<o.length;n++)o[n].active=!1},a([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],DropLayer111008201:[function(t,e,n){"use strict";cc._RF.push(e,"a8c51dEjKVIhos0OEoR+R6B","DropLayer111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../roller/GameLayer111008201"),s=t("./NoteNum111008201"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropNode=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,r.default.instance.dropLayer=this},e.prototype.runDrop=function(){var t=this.node.getChildByName("fs_vfx_e_add");t.active=!0,t.opacity=0,cc.tween(t).to(.2,{opacity:255}).delay(2).to(.2,{opacity:0}).set({active:!1}).start();for(var e=0;e<3;e++)this.dropElem(.3*e,"d"+e);for(e=3;e<7;e++)this.dropElem(.3*e)},e.prototype.dropElem=function(t,e){void 0===e&&(e=null);var n=cc.instantiate(this.dropNode);null==e&&(e="d"+game.ComUtils.getIntRandom(1,3).toString());var o=[.5,1,2,3,4,5,8,10,20,30,50,100,200,500];n.children[0].getComponent(s.default).setGold(slot.SpinManager.instance.betCost*o[Math.floor(Math.random()*o.length)]),n.parent=this.node.getChildByName("w"),n.active=!0,n.opacity=0,cc.tween(n).delay(t).set({opacity:255}).call(function(){slot.SoundMger.instance.playEffect("Vuelan_hacia"),n.getComponent(cc.Animation).play(e)}).delay(3).removeSelf().start()},e.instance=null,a([p(cc.Node)],e.prototype,"dropNode",void 0),n=a([l],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../roller/GameLayer111008201":"GameLayer111008201","./NoteNum111008201":"NoteNum111008201"}],EffectLayer111008201:[function(t,e,n){"use strict";cc._RF.push(e,"819b6usg+pMdr2DkwEqtAIL","EffectLayer111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111008201"),s=t("../roller/GameLayer111008201"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedSp=null,e.lightSp=null,e._x10Handler=null,e._fxx10Handler=null,e._hbHandler=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,s.default.instance.effectLayer=this,game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this)},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this)},e.prototype.playRollerSpeed=function(){this.speedSp.node.active=!0,slot.FreeGameManager.instance.isTreateFromFreeGame?this.speedSp.setAnimation(0,"rabbit_speed",!1):(this.speedSp.node.scale=1,this.speedSp.setAnimation(0,"speed2",!1))},e.prototype.onSpinStart=function(){this.playRollerSpeed()},e.instance=null,a([p(sp.Skeleton)],e.prototype,"speedSp",void 0),a([p(sp.Skeleton)],e.prototype,"lightSp",void 0),n=a([l],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111008201":"GameEventName111008201","../roller/GameLayer111008201":"GameLayer111008201"}],GameBg111008201:[function(t,e,n){"use strict";cc._RF.push(e,"597fcE2jUVAnZlW9rkQGMfA","GameBg111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg_zhezhao=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.resize.call(this),this.bg_zhezhao.active=!1,game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_OPEN_MENU,this.openMenu,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_CLOSE_MENU,this.closeMenu,this),game.EventManager.getInstance().addEventListener("EVENT_CLOSE_MENU",this.closeMenu,this)},e.prototype.openMenu=function(){this.bg_zhezhao.active=!0},e.prototype.closeMenu=function(){this.bg_zhezhao.active=!1},a([c(cc.Node)],e.prototype,"bg_zhezhao",void 0),a([s],e)}(slot.BaseView);n.default=l,cc._RF.pop()},{}],GameEventName111008201:[function(t,e,n){"use strict";cc._RF.push(e,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111008201"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinType=n.EventName=void 0,function(t){t.EVENT_WIN_GAME="EVENT_WIN_GAME",t.EVENT_WIN_CORE="EVENT_WIN_CORE",t.JT_EVENT_WILD_THROW_PINENUT="JT_EVENT_WILD_THROW_PINENUT_111008201",t.JT_HUHU_EXIT="JT_HUHU_EXIT_111008201",t.JT_TEN_RATE="JT_TEN_RATE_111008201",t.JT_BIG_ELEM="JT_BIG_ELEM_111008201",t.JT_CASH_ELEMENT="JT_CASH_ELEMENT",t.GAME_SPIN_START="GAME_SPIN_START_111008201",t.GAME_SPIN_STOP="GAME_SPIN_STOP_111008201"}(n.EventName||(n.EventName={})),function(t){t.SuperWin="SuperWin",t.MargeWin="MargeWin",t.BigWin="BigWin",t.Lose="Lose",t.win="win",t.fiveEven="fiveEven",t.wild="wild"}(n.WinType||(n.WinType={})),cc._RF.pop()},{}],GameLayer111008201:[function(t,e,n){"use strict";cc._RF.push(e,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../common/LineNumMgr111008201"),s=t("../game/NoteNum111008201"),c=t("../game/Rabbit111008201"),l=t("../game/RewardEffect111008201"),p=t("../game/RewardTimes111008201"),u=t("../GameEventName111008201"),d=t("../main/Main111008201"),f=t("./GameRoller111008201"),h=t("./InfoLayer111008201"),y=t("./scrollerSkins/GameLogic111008201"),m=t("./scrollerSkins/JTChildManager111008201"),_=t("./scrollerSkins/JTLayerManager111008201"),g=cc._decorator,v=g.ccclass,E=g.property,N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pineNut=null,e.goldNum=null,e.rewardNods=[],e.flyNumLayer=null,e.winElemLayer=null,e.fsBgNode=null,e.cur_songziNum=0,e._arrRender=[],e.isReward=!1,e.scrollerLayer=null,e.upperLayer=null,e.scatterTask=null,e.wildTask=null,e.scroller=null,e._spinAniViews=[],e.isFirst=!0,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),t.prototype.onLoad.call(this),console.log("game111008201 onload----------"),this.initUI(),n.instance=this,window.gamelayer=this,this.maskIn=this.node.getChildByName("mask"),this.maskIn.parent=slot.MainView.instance.node,this.maskIn.zIndex=200,game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.enterGame,this),this.node.getChildByName("rewardLayers").getComponent(l.default).init(),cc.find("rewardLayer/rewardTimes",this.node).getComponent(p.default).init()},e.prototype.enterGame=function(){this.isReward&&this.scheduleOnce(function(){slot.SoundMger.instance.playMusic("Game_Music",!0)})},e.prototype.initUI=function(){this.scrollerLayer=this.node.getChildByName("scrollerLayer"),this.scrollerAni=this.scrollerLayer.getChildByName("scrollerAni"),this.elementMark=this.scrollerLayer.getChildByName("elementMark"),this.scrollerBg=this.scrollerLayer.getChildByName("scrollerBg"),this.upperLayer=this.scrollerLayer.getChildByName("upperLayer")},e.prototype.onDestroy=function(){this.dispose(),this.unscheduleAllCallbacks()},e.prototype.getRandomJfs=function(){return 1==Math.ceil(20*Math.random())},e.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView()},e.prototype.onInitScroller=function(t){var e=this,n=e.scroller=t.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new _.default,new m.default,new y.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var i=n.options(slot.JTScrollingPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,t.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,t.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,t.onSpinPreStop),i.childOption(slot.JTOverScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,t.scrollingProgress),n.setupDefaultItemList(e.getSourceList,[1],!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),f.default.instance.initScroller(t),n.setupGridRenderConfig([[1,1,1,0],[1,1,1,1],[1,1,1,0]]);var a=e.slotMachine.node.getComponent(cc.PolygonCollider).points;e.scroller.setupMaskPolygon(a)},e.prototype._initSlotMachineView=function(){this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=215,this.slotMachine.gridHeight=175,this.slotMachine.showLineInterval=2e3,this.slotMachine.playRenderInterval=100,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onShowMoreWinLineCb=function(t,e){return slot.SoundMger.instance.playEffect("line"),e?(r.default.instance.reset(),t.forEach(function(t){r.default.instance.showLineId(t.line.lineId)})):1==t.length&&(r.default.instance.reset(),r.default.instance.showLineId(t[0].line.lineId)),!1},this._registerSlotMachineAnimation()},e.prototype._rederAfter=function(){console.log("_rederAfter--------"),slot.SpinManager.instance.spinTouchEnable=!0,this.initRenderState();for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView._instance.scroller.renders[e];this._arrRender.push(n),3!=n.index&&11!=n.index||(n.data=3),1==n.data&&n.showGoldNum(),9==n.data&&(this.fsBgNode.opacity=255)}if(this.scroller.adjustScrollerPostion(0,cc.v2(0,-90)),this.scroller.adjustScrollerPostion(1,cc.v2(0,-10)),this.scroller.adjustScrollerPostion(2,cc.v2(-1.5,-90)),this.scroller.changeDataMode(!1,1),!core.CommonProto.getInstance().isNormal){var o=slot.SlotMachineView.instance.scroller.renders[5];o.getGoldNum().setGold(1e3,1),o.delayNum=.5,(o=slot.SlotMachineView.instance.scroller.renders[6]).getGoldNum().setGold(250,0),o.delayNum=.5}this.elementMark.parent=this.scroller,this.elementMark.setSiblingIndex(4)},e.prototype.initRenderState=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView._instance.scroller.renders[e],o=n.data;switch(n.showGoldNum(),o){case 7:n.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")}}},e.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},e.prototype._onSpinStop=function(t,e,n){1==t&&cc.tween(this).delay(slot.SpinManager.instance.isInTurbo?0:.13).call(function(){slot.SoundMger.instance.stopEffect("spin_active_loop")}).start(),n?0==t&&slot.SoundMger.instance.playEffect("Reel_Stop_01"):slot.SoundMger.instance.playEffect("Reel_Stop1")},e.prototype._onSpinComplete=function(){game.EventManager.getInstance().raiseEvent(u.EventName.GAME_SPIN_STOP)},e.prototype.judgeIsHaveWild=function(t){for(var e=!1,n=slot.SlotMachineView._instance.scroller.renders.length,o=0;o<n;o++)if(slot.SlotMachineView._instance.scroller.renders[o].data==t){e=!0;break}return e},e.prototype.getSpinPosByLineId=function(t){var e=[];switch(t){case 1:e=[1,4,7];break;case 2:e=[0,3,6];break;case 3:e=[2,5,8];break;case 4:e=[0,4,8];break;case 5:e=[2,4,6]}return e},e.prototype.getisPlayByIndex=function(t){var e=!1,n=slot.SpinManager.instance.rollingResult.spinResult;if(console.log("spinResult.lineResult.length-------",n.lineResult.length),!n.lineResult||0==n.lineResult.length)return!0;for(var o=n.lineResult,i=0;i<o.length;i++){var a=this.getSpinPosByLineId(o[i].lineId);console.log("pos------",a,t);for(var r=0;r<a.length;r++)t==a[r]&&(e=!0)}return e},e.prototype.handleWildPos=function(t,e){var n=cc.v2(-140,530),o=slot.SlotMachineView._instance.scroller.renders[t],i=cc.instantiate(this.pineNut);this.scrollerLayer.addChild(i),this.cur_songziNum=this.cur_songziNum+1;var a=o.convertToWorldSpaceAR(cc.v2(0,0)),r=this.node.convertToNodeSpaceAR(a),s=cc.v2(r.x,r.y);i.setPosition(s);var c=s.clone();c.x-=300,c.y-=100,this.playThrowPineNut(e,i,s,c,n)},e.prototype.playThrowPineNut=function(t,e,n,o,i){cc.tween(e).to(.2,{x:i.x,y:i.y}).call(function(){c.default.instance.playFxLevel()}).delay(.4).call(function(){e.destroy()}).start()},e.prototype._onSpinStart=function(){cc.tween(this.elementMark).to(.4,{opacity:0}).start()},e.prototype._onSpinBegin=function(){var t=this;this.isFirst=!1,h.default.instance.winNode.active&&slot.SoundMger.instance.playEffect("Preludio"),this.isReward?slot.SoundMger.instance.playEffect("Reel_Spin1"):slot.SlotMachineView.instance.scroller.blackBackGround.opacity=255,cc.find("scrollerLayer/mask/speed",n.instance.node).active=!1,slot.FreeGameManager.instance.hasFreeGame||255!=this.fsBgNode.opacity||cc.tween(this.fsBgNode).to(.5,{opacity:0}).start(),slot.FreeGameManager.instance.hasFreeGame||h.default.instance.showBanner(),game.EventManager.getInstance().raiseEvent(u.EventName.GAME_SPIN_START),this.changeDataMode(),slot.SoundMger.instance.playEffect("spin_active_loop",!0),this.scroller.renders.forEach(function(e){e.parent!=e.owner&&t.changeParent(e,e.owner)})},e.prototype.stopBanner=function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)},e.prototype._clearSpinReelAni=function(){console.log("_clearSpinReelAni")},e.prototype._playContinuousNotWinAnimation=function(t,e){e.run()},e.prototype.refreshRoom=function(){console.log("aaaaaa")},e.prototype.onSetElementView=function(t,e){if("EVENT_ELEMENT_PAY_ID_SHOW"==t){if(9==e)return void game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_DEL_ELEMENT_PAY_ID_HIDE);var n=arguments[2],o=arguments[5],i=o.getComponent(slot.SpinElementView);i.frameBg.node.scale=.7,i.frameBg.type=cc.Sprite.Type.SLICED,i.frameBg.node.height=7==e?364:5==e?325:302;var a=i.elementImage,r=a.node.getChildByName("numAtas");if(r||(r=cc.instantiate(this.goldNum),a.node.addChild(r)),1==e){a.trim=!1,a.sizeMode=cc.Sprite.SizeMode.RAW,r.active=!0;var c=r.getComponent(s.default),l=f.default.instance.getGridReward(n+1);c.setGold(l),c.offScale=1}else r.active=!1;cc.Tween.stopAllByTarget(this.elementMark),cc.tween(this.elementMark).to(.3,{opacity:255}).start()}else cc.Tween.stopAllByTarget(this.elementMark),cc.tween(this.elementMark).to(.3,{opacity:0}).start()},e.prototype.onCloseLoadingPage=function(){},e.prototype.onClickStartBtn=function(){slot.GameControlBase.instance.ctlBtnState!=slot.ctlBtn_status.AUTO&&255==slot.GameControlBase.instance.ctlBtnBG.node.opacity&&(slot.GameControlBase.instance.ctlBtnBG.node.opacity=0,cc.tween(this).delay(1).call(function(){slot.GameControlBase.instance.ctlBtnBG.node.opacity=255}).start())},e.prototype.onWinLineCoin=function(t,e){var n=e.parent.getChildByName("bgNode");if(!n){(n=new cc.Node).name="bgNode",n.parent=e.parent,n.zIndex=-1,n.scale=.32,n.scaleY=.26,n.opacity=255;var o=n.addComponent(cc.Sprite);o.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_COLOR,game.ResLoader.getInstance().loadRes("textures/jqt/yaunsudongxiao",cc.SpriteAtlas,function(t,e){t||(o.spriteFrame=e.getSpriteFrame("mtp_vfx_b_screen"))},slot.GData.bundleName)}n.active=!0,n.position=e.position,n.position.y-=5},e.prototype._playFullLineAnimation=function(t,e){game.EventManager.getInstance().raiseEvent(u.EventName.EVENT_WIN_GAME,u.WinType.fiveEven),e.run()},e.prototype._playNormalRewardsAnimation=function(t,e){h.default.instance.updateWin("",t);var n=0==h.default.instance.rsTime;game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,slot.ScoreBase.instance.forUpdateAllScore,slot.ScoreBase.instance),cc.tween(this).delay(h.default.instance.rsTime).call(function(){var e=slot.FreeGameManager.instance.isTreateFromFreeGame&&!slot.FreeGameManager.instance.isTreateFreeOver,n=slot.FreeGameManager.instance.isTreateFromFreeGame;game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,slot.ScoreBase.instance.forUpdateAllScore,slot.ScoreBase.instance),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,t,e,n),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,slot.PlayerManager.instance.showCoin)}).start(),this.showWinAniView(slot.WinAniType.Normal,t,e,n,n),game.EventManager.getInstance().raiseEvent(u.EventName.EVENT_WIN_GAME,u.WinType.win)},e.prototype._playGreatRewardsAnimation=function(t,e){this.showWinAniView(slot.WinAniType.Great,t,slot.Handler.create(this,function(){h.default.instance.updateWin("",t),e.run()}))},e.prototype._playMiddleRewardsAnimation=function(t,e){this.showWinAniView(slot.WinAniType.Middle,t,slot.Handler.create(this,function(){h.default.instance.updateWin("",t),e.run()}))},e.prototype._playSmallRewardsAnimation=function(t,e){this.showWinAniView(slot.WinAniType.Small,t,slot.Handler.create(this,function(){h.default.instance.updateWin("",t),e.run()}))},e.prototype.addEventListener=function(){t.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onSetElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onSetElementView,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingPage,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.onClickStartBtn,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_LINE_COIN,this.onWinLineCoin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.nowStop,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYED_NORMAL_REWARD,this.nowStop,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.firstUpdateScore,this)},e.prototype.nowStop=function(){slot.SoundMger.instance.playEffect("line")},e.prototype.firstUpdateScore=function(t,e){e=Number(e),this.isFirst&&e>0&&h.default.instance.updateWin("total",e)},e.prototype.removeEventListener=function(){t.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.firstUpdateScore,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onSetElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onSetElementView,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingPage,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.onClickStartBtn,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_LINE_COIN,this.onWinLineCoin,this)},e.prototype.shrinkScroller=function(t){void 0===t&&(t=!1);var e=this.upperLayer.getComponent(cc.Animation).play(n.instance.bReal?"rewardIn":"rewardIn1"),o=d.default.instance.node;if(t?(e.speed=100,o.scale=.92):(cc.Tween.stopAllByTarget(o),cc.tween(o).to(n.instance.bReal?1:2,{scale:.92}).start()),n.instance.bReal){var i=cc.find("scrollerLayer/fs_vfx_a_01_add",this.node);i.active=!0,i.getComponent(cc.Animation).play(),cc.tween(i).delay(3).call(function(){i.getComponent(cc.Animation).stop(),i.opacity=255}).delay(2).to(.5,{opacity:0}).start()}},e.prototype.zoomScroller=function(){this.upperLayer.getComponent(cc.Animation).play(n.instance.bReal?"rewardOut":"rewardOut1");var t=d.default.instance.node;cc.Tween.stopAllByTarget(t),cc.tween(t).to(.6,{scale:1}).start()},e.prototype.playAwardStart=function(){this.shrinkScroller(),c.default.instance.playTease(),slot.WinAniManager.instance.node.scale=1.1,slot.SlotMachineView.instance.scroller.blackBackGround.opacity=0,h.default.instance.curWinGoid=0},e.prototype.beforeScrollerStartRolling=function(){},e.prototype.playAwardStop=function(){cc.find("scrollerLayer/fs_vfx_e_add",this.node).active=!1,cc.find("scrollerLayer/rabbit",n.instance.node).active=!1,this.zoomScroller(),slot.SoundMger.instance.playEffect("Estirar"),slot.WinAniManager.instance.node.scale=1},e.prototype.setRunningTime=function(t){for(var e=0;e<this.scroller.items.length;e++)this.scroller.items[e].time=t},e.prototype.addFreeSpinsAni=function(t,e,n){n.run()},e.prototype.onFreeGameTriggered=function(t,e){t.type==slot.OperationState.ReSpin&&e.run()},e.prototype.onInitFreeGame=function(t,e){console.log(t),slot.SoundMger.instance.playMusic("Game_Music",!0),slot.SoundMger.instance.stopMusic("Game_Back_Music"),n.instance.bReal=!0,this.switchReward(!0),this.shrinkScroller(!0),this.fsBgNode.opacity=255,cc.find("scrollerLayer/info_bns2",this.node).active=!0,cc.find("scrollerLayer/rabbit",n.instance.node).active=!0,c.default.instance.hideRole(),p.default.instance.node.parent.active=!0,p.default.instance.updateTimes(t.times);var o=t.sumCoin;cc.tween(this).delay(0).call(function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,0),h.default.instance.addGoldWin(Number(o)+Number(f.default.instance.triggerFreeSpinCoin))}).start(),e.run()},e.prototype.onFreeGameInfoUpdated=function(){},e.prototype.onFreeGameTimesUpdated=function(t){p.default.instance?p.default.instance.updateTimes(t):p.default.curTimes=t},e.prototype.onFreeGameOver=function(t,e){var n=this;console.log("onFreeGameOver: ",t),slot.SoundMger.instance.stopMusic("Game_Music");var o=t.sumCoinAndTrigger,i=slot.Handler.create(this,function(){var o=0;t.sumCoinAndTrigger>0?(o=h.default.instance.updateWin("total",t.sumCoinAndTrigger),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,t.sumCoinAndTrigger)):h.default.instance.showBanner(),n.scheduleOnce(function(){n.playAwardStop(),n.switchReward(!1),c.default.instance.playRespawn(),cc.find("scrollerLayer/info_bns2",n.node).active=!1;var t=n.node.getChildByName("rewardLayer");cc.tween(t).to(.5,{opacity:0}).set({active:!1,opacity:255}).start(),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),e.run()},o)}),a=slot.SlotUtils.getWinType(o,slot.SpinManager.instance.betCost);a>slot.WinType.Normal?(slot.WinAniManager.instance.node.scale=1.1,this.playWinAni(a,o,i)):i.run()},e.prototype.switchReward=function(t){void 0===t&&(t=!0),this.isReward=t,slot.GameControlBase.instance.node.opacity=t?0:255,d.default.instance.node.getChildByName("menu").active=!t,this.rewardNods.forEach(function(e){e&&(e.active=t)})},e.prototype.playCashWin=function(t){var e=this,n=this,o=n.scroller.renders.slice().filter(function(t){return 1==t.data}).sort(function(t,e){return t.index-e.index});slot.SoundMger.instance.playEffect("Bonus_Symbol_Winning"),o.forEach(function(t,o){var i=t;cc.tween(e).delay(.1*o).call(function(){return i.onPlayAnimation()}).start(),n.changeParent(i,e.winElemLayer)}),n.showElementMask(),cc.tween(this).delay(.1*o.length+.5).call(function(){o.forEach(function(t,n){var o=t;cc.tween(e).delay(.2*n).call(function(){return o.playCashWin(n+1)}).start()})}).delay(.1*o.length+1).call(function(){t&&t()}).start()},e.prototype.showElementMask=function(){cc.Tween.stopAllByTarget(this.elementMark),cc.tween(this.elementMark).to(.5,{opacity:180}).start()},e.prototype.hideElementMask=function(){0!=this.elementMark.opacity&&(cc.Tween.stopAllByTarget(this.elementMark),cc.tween(this.elementMark).to(.5,{opacity:0}).start())},e.prototype.changeParent=function(t,e){var n=t.position;n=t.parent.convertToWorldSpaceAR(n),n=e.convertToNodeSpaceAR(n),t.parent=e,t.position=n},e.prototype.changeDataMode=function(){this.isReward?this.scroller.changeDataMode(!1,2):this.scroller.changeDataMode(!1,1)},a([E({type:cc.Prefab,tooltip:"\u677e\u5b50\u9884\u5236\u8d44\u6e90"})],e.prototype,"pineNut",void 0),a([E(cc.Prefab)],e.prototype,"goldNum",void 0),a([E(cc.Node)],e.prototype,"rewardNods",void 0),a([E(cc.Node)],e.prototype,"flyNumLayer",void 0),a([E(cc.Node)],e.prototype,"winElemLayer",void 0),a([E(cc.Node)],e.prototype,"fsBgNode",void 0),n=a([v],e)}(slot.AbstractMainView);n.default=N,cc._RF.pop()},{"../GameEventName111008201":"GameEventName111008201","../common/LineNumMgr111008201":"LineNumMgr111008201","../game/NoteNum111008201":"NoteNum111008201","../game/Rabbit111008201":"Rabbit111008201","../game/RewardEffect111008201":"RewardEffect111008201","../game/RewardTimes111008201":"RewardTimes111008201","../main/Main111008201":"Main111008201","./GameRoller111008201":"GameRoller111008201","./InfoLayer111008201":"InfoLayer111008201","./scrollerSkins/GameLogic111008201":"GameLogic111008201","./scrollerSkins/JTChildManager111008201":"JTChildManager111008201","./scrollerSkins/JTLayerManager111008201":"JTLayerManager111008201"}],GameLogic111008201:[function(t,e,n){"use strict";cc._RF.push(e,"96d5dbplx9C1qrlPvKX8HPy","GameLogic111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./JTCashElement111008201"),s=t("./JTCollectWild111008201"),c=t("./JTTenRate111008201"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.adjustFlowOptions=function(){this.childOption(s.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES-3),this.childOption(r.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES-2),this.childOption(c.default,slot.JTTaskPriority.JTLOOP_DISPLAY_LINES-1)},a([p],e)}(slot.JTLogicFactroy));n.default=u,cc._RF.pop()},{"./JTCashElement111008201":"JTCashElement111008201","./JTCollectWild111008201":"JTCollectWild111008201","./JTTenRate111008201":"JTTenRate111008201"}],GameRoller111008201:[function(t,e,n){"use strict";cc._RF.push(e,"bc2f0ebikFHIIfaJL6TK9y9","GameRoller111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../game/DropLayer111008201"),s=t("../game/Rabbit111008201"),c=t("../game/RewardEffect111008201"),l=t("../game/RewardTimes111008201"),p=t("../GameEventName111008201"),u=t("./GameLayer111008201"),d=t("./InfoLayer111008201"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=[],e.gridChanged=[],e.isHaveWild=!1,e.isTrueRolling=!0,e.isCashMode=!1,e.isCashWin=!1,e.totalRound=0,e.curRound=0,e.spinCoin=0,e.subState=0,e.slotMachine=null,e.resultList=[],e.taskList=[],e.spinResp=null,e.nextState=null,e.gridReward=null,e._state=slot.OperationState.None,e.triggerFreeSpinCoin=0,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){this.addEventListener(),n.instance=this,u.default.instance.gameRoller=this},e.prototype.onDestroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this.onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.onRestorerResp,this),game.EventManager.getInstance().addEventListener(p.EventName.JT_EVENT_WILD_THROW_PINENUT,this.onJtCollectWild,this),game.EventManager.getInstance().addEventListener(p.EventName.JT_CASH_ELEMENT,this.onJtCashElement,this),game.EventManager.getInstance().addEventListener(p.EventName.GAME_SPIN_STOP,this.onSpinStop,this)},e.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this.onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.onRestorerResp,this),game.EventManager.getInstance().removeEventListener(p.EventName.JT_EVENT_WILD_THROW_PINENUT,this.onJtCollectWild,this),game.EventManager.getInstance().removeEventListener(p.EventName.JT_CASH_ELEMENT,this.onJtCashElement,this),game.EventManager.getInstance().removeEventListener(p.EventName.GAME_SPIN_STOP,this.onSpinStop,this)},e.prototype.initScroller=function(t){this.slotMachine=t,t.cusParseTaskOverHandler=slot.Handler.create(this,this.afterParseTaskComplete,[],!1)},e.prototype.onRollingResp=function(t,e){var n=this;this.spinResp=e,this.nextState=e.nextState,this._state=e.state;var o=this.grid=e.spinResult.grid;this.gridChanged=e.spinResult.gridChanged,this.isHaveWild=null!=this.grid.find(function(t){return 1==t}),this.spinCoin=Number(this.spinResp.spinResult.spinCoin),this.nextState&&this.nextState.state==slot.OperationState.ReSpin?this.isCashMode=!0:this._state==slot.OperationState.ReSpin?this.isCashMode=!0:this.isCashMode=!1;var i=0;o.forEach(function(t){1==t&&i++}),this.isCashWin=i>=5;var a=e.updateList.find(function(t){return 6==t.type});if(this.resultList=a.value.handleState.game_1110003.data.resultList,this.gridReward=a.value.handleState.game_10095.data.gridReward,this.taskList=a.value.handleState.game_10014.data.taskList,console.log("diff = ",a),console.log("taskList = ",this.taskList),console.log("gridReward = ",this.gridReward),this.isTrueRolling=!0,this.nextState&&this.nextState.state==slot.OperationState.ReSpin){u.default.instance.bReal=!0,u.default.instance.scroller.addRunningTime(8e3),u.default.instance.playAwardStart(),slot.SoundMger.instance.playEffect("Rabbit_Sound_Effect",!1),slot.SoundMger.instance.playEffect("Sound_Effect_When"),slot.SlotMachineView.instance.scroller.enabled=!1,slot.SpinManager.instance.spinTouchEnable=!1,u.default.instance.maskIn.active=!0,this.scheduleOnce(function(){cc.tween(u.default.instance.fsBgNode).to(.3,{opacity:255}).start()},1);var p=u.default.instance,f=p.node.getChildByName("rewardLayer"),h=cc.find("scrollerLayer/info_bns2",p.node);this.scheduleOnce(function(){p.switchReward(!0),f.active=!1,h.active=!1,d.default.instance.showReward(),c.default.instance.showMask(),s.default.instance.playFreeSpin()},3),cc.tween(this).delay(4.5).call(function(){p.scroller.changeDataMode(!1,3)}).delay(3).call(function(){u.default.instance.changeDataMode()}).start(),this.scheduleOnce(function(){c.default.instance.hideMask(),r.default.instance.runDrop(),f.active=!0,h.active=!0,f.getComponent(cc.Animation).play(),c.default.instance.node.getChildByName("fx").getComponent(cc.Animation).play(),l.default.instance.updateTimes(8),n.scheduleOnce(function(){l.default.instance.updateTimes(7)},3)},5),this.scheduleOnce(function(){slot.SlotMachineView.instance.scroller.enabled=!0,slot.SpinManager.instance.spinTouchEnable=!0,u.default.instance.maskIn.active=!1,u.default.instance.scroller.onUpdate(e.spinResult.grid,e.spinResult.gridChanged,e.spinResult.realGridShape,e.spinResult.realGridShapeChanged,e.spinResult.occupyPosList,e.spinResult.occupyPosListChanged),n.resetData()},8),c.default.instance.show()}else Math.random()<.05&&!u.default.instance.isReward?(u.default.instance.bReal=!1,u.default.instance.scroller.addRunningTime(3e3),c.default.instance.fakeShow(),slot.SpinManager.instance.spinTouchEnable=!1,u.default.instance.maskIn.active=!0,slot.SoundMger.instance.playEffect("Rabbit_Sound_Effect"),slot.SoundMger.instance.playEffect("Sound_Effect_When"),cc.tween(this).delay(1).call(function(){cc.tween(u.default.instance.fsBgNode).to(.3,{opacity:255}).start()}).delay(1.5).call(function(){cc.tween(u.default.instance.fsBgNode).to(.3,{opacity:0}).start()}).start(),u.default.instance.scroller.onUpdate(e.spinResult.grid,e.spinResult.gridChanged,e.spinResult.realGridShape,e.spinResult.realGridShapeChanged,e.spinResult.occupyPosList,e.spinResult.occupyPosListChanged),this.scheduleOnce(function(){n.resetData(),slot.SpinManager.instance.spinTouchEnable=!0,u.default.instance.maskIn.active=!1},2.5)):(u.default.instance.scroller.onUpdate(e.spinResult.grid,e.spinResult.gridChanged,e.spinResult.realGridShape,e.spinResult.realGridShapeChanged,e.spinResult.occupyPosList,e.spinResult.occupyPosListChanged),this.resetData(),u.default.instance.isReward&&u.default.instance.scroller.addRunningTime(1e3))},e.prototype.onRestorerResp=function(t,e){console.log(e),this.triggerFreeSpinCoin=e.state.normalData.triggerFreeSpinCoin;var n=1==e.state.state?e.state.normalData:e.state.freeData;this.resultList=n.handleState.game_1110003.data.resultList,this.gridReward=n.handleState.game_10095.data.gridReward;var o=Number(this.triggerFreeSpinCoin)+Number(n.sumSpinCoin);if(slot.SpinManager.instance.totalWin=o,!this.gridReward||0==this.gridReward.length){this.gridReward=[];for(var i=slot.SpinManager.instance.betCost,a=0,r=[[5,500*i],[6,20*i],[7,5*i],[8,.5*i]];a<r.length;a++){var s=r[a],c={};c.pos=s[0],c.goldReward=Long.fromNumber(s[1]),this.gridReward.push(c)}}},e.prototype.onJtCollectWild=function(t,e){var n=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin);if(!this.isHaveWild||this.isCashMode||this.isCashWin||0!=n)e.run();else if(this._state==slot.OperationState.Normal){var o=slot.SlotMachineView._instance.scroller.renders.length;slot.SlotMachineView.instance.scroller.renders.some(function(t){return 1==t.data})&&slot.SoundMger.instance.playEffect("Amount_Drop_Sound");for(var i=function(t){var e=slot.SlotMachineView.instance.scroller.renders[t];1==e.data&&e.playCollect(slot.Handler.create(a,function(){u.default.instance.handleWildPos(t,1),console.log("aaa")}))},a=this,r=0;r<o;r++)i(r);o>0&&this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Wild_Sound_Effects")},.6),this.scheduleOnce(function(){console.log("bbb"),e.run()},.4)}else e.run()},e.prototype.onJtCashElement=function(t,e){console.log("\u8fdb\u5165\u6d41\u7a0b\uff1a onJtCashElement"),this.isCashWin?u.default.instance.playCashWin(function(){e.run(),console.log("\u7ed3\u675f\u6d41\u7a0b\uff1a onJtCashElement2")}):(e.run(),console.log("\u7ed3\u675f\u6d41\u7a0b\uff1a onJtCashElement1"))},e.prototype.getRoundResult=function(){return this.resultList[this.curRound]},e.prototype.afterParseTaskComplete=function(){console.log("\u5f53\u524d\u8f6e\uff1a",this.curRound,"totalRound: ",this.totalRound),this.getRoundResult(),this.curRound++,this.curRound+1==this.totalRound&&(this.slotMachine.isRunCusParseOverHandler=!1),this.runRound()},e.prototype.runRound=function(t){var e=this;void 0===t&&(t=!1);var n=this.getRoundResult();n?(console.log("next round grid: "+n.grid),slot.SpinManager.instance.rollingResult.spinResult=n,slot.SpinManager.instance.doFlattenLineRewardsResult(n),this.scheduleOnce(function(){e.slotMachine.isRunCusParseOverHandler||(u.default.instance.scroller.blackBackGround.opacity=255),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_START_ROLLING),e.slotMachine.rollingResultResp()},.1)):this.slotMachine.isRunCusParseOverHandler=!1},e.prototype.onSpinStop=function(){},e.prototype.getGridReward=function(t){var e=[];if(this.gridReward?e=this.gridReward:slot.SpinManager.instance.customUpdateData&&(e=slot.SpinManager.instance.customUpdateData.game_10095.data.gridReward),!e)return 25;var n=e.find(function(e){return e.pos==t});if(!n){if(u.default.instance.isFirst){if(5==t)return 25e3;if(6==t)return 1e3;if(7==t)return 250;if(8==t)return 25}var o=[.5,1,2,3,4,5,8,10,20,30,50,100,200,500];return slot.SpinManager.instance.betCost*o[Math.floor(Math.random()*o.length)]}return Number(n.goldReward)},e.prototype.getVfxLevel=function(){if(this.taskList&&this.taskList.length>0){var t=this.taskList[0];return t.num>6?3:t.num>3?2:1}return 1},e.prototype.resetData=function(){},e.instance=null,n=a([h],e)}(slot.BaseView));n.default=y,cc._RF.pop()},{"../GameEventName111008201":"GameEventName111008201","../game/DropLayer111008201":"DropLayer111008201","../game/Rabbit111008201":"Rabbit111008201","../game/RewardEffect111008201":"RewardEffect111008201","../game/RewardTimes111008201":"RewardTimes111008201","./GameLayer111008201":"GameLayer111008201","./InfoLayer111008201":"InfoLayer111008201"}],InfoLayer111008201:[function(t,e,n){"use strict";cc._RF.push(e,"c9f41Aw1wpJnKJ/caLFHW3Y","InfoLayer111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../game/Rabbit111008201"),s=t("./GameLayer111008201"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalBannerNode=null,e.winNode=null,e.rewardBannerNode=null,e.winSp=null,e.winNum=null,e.winBgNode=[],e.winLabel=null,e.twLabel=null,e.curWinGoid=0,e.addObj={s:0},e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.winLabel=this.winNode.getChildByName("ss").getChildByName("win"),this.twLabel=this.winNode.getChildByName("ss").getChildByName("tw"),s.default.instance.infoLayer=this,this.showBanner(0)},e.prototype.onDestroy=function(){},e.prototype.hideAll=function(){this.normalBannerNode.active=!1,this.winNode.active=!1,this.rewardBannerNode.active=!1},e.prototype.showBanner=function(t){void 0===t&&(t=-1),this.hideAll(),this.normalBannerNode.active=!0,this.winBgNode.forEach(function(t,e){return t.active=0==e}),-1!=t&&game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,t)},e.prototype.showReward=function(){this.hideAll(),this.rewardBannerNode.active=!0},e.prototype.addGoldWin=function(t){this.curWinGoid+=t,this.updateWin("aaa",this.curWinGoid)},e.prototype.onClickMask=function(){},e.prototype.updateWin=function(t,e){var n=this,o=1;if(this.rsTime=0,e>0){if(this.hideAll(),this.winNode.active=!0,this.winLabel.active="total"!=t,this.twLabel.active="total"==t,"aaa"==t){var i=cc.find("win_frame",this.winNode);return i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"win_frame",!1),this.winNum.string=slot.SlotUtils.formatNumber(e),cc.Tween.stopAllByTarget(this.winNum.node.parent),s.default.instance.isFirst||cc.tween(this.winNum.node.parent).to(.1,{scale:1.05}).to(.1,{scale:1}).start(),void this.showWinBg(2)}if(s.default.instance.isReward&&"total"!=t)return;this.curWinGoid=e;var a=cc.find("mm/fx1",this.winNode);a.active=!1;var c=this.winNode.getChildByName("fx2");c.active=!1;var l=slot.SpinManager.instance.betCost,p=1;if(e>=20*l){a.active=!0;var u=a.getComponent(sp.Skeleton);u.setAnimation(0,"up_back",!1),u.setCompleteListener(function(){u.setCompleteListener(null)}),c.active=!0;var d=c.getComponent(sp.Skeleton);d.setAnimation(0,"up_top",!1),d.setCompleteListener(function(){d.setCompleteListener(null),c.active=!1}),this.winSp.play(),p=3,r.default.instance.playWin(p),this.winNum.string=slot.SlotUtils.formatNumber(e),slot.SoundMger.instance.playEffect("Broadcast_Box_End")}else e>=5*l?(slot.SoundMger.instance.playEffect("Five_Bonus_Jackpot"),p=2,slot.SoundMger.instance.playEffect("Coin_Rolling",!0),this.winLabel.active=!1,this.twLabel.active=!1,o=3,this.addObj.s=0,s.default.instance.maskIn.active=!0,this.callFunc=function(){cc.Tween.stopAllByTarget(n.addObj),n.winNum.string=slot.SlotUtils.formatNumber(e),s.default.instance.maskIn.active=!1,slot.SoundMger.instance.stopEffect("Coin_Rolling"),slot.SoundMger.instance.playEffect("Broadcast_Box_End",!1),n.winLabel.active="total"!=t,n.twLabel.active="total"==t},this.rsTime=s.default.instance.isFirst?0:2,cc.tween(this.addObj).to(this.rsTime,{s:e},{progress:function(t,e,o,i){var a=cc.misc.lerp(t,e,i);return n.winNum.string=slot.SlotUtils.formatNumber(a),a}}).call(function(){n.winSp.play(),r.default.instance.playWin(p),a.active=!0;var t=a.getComponent(sp.Skeleton);t.setAnimation(0,"up_back",!1),t.setCompleteListener(function(){t.setCompleteListener(null)}),c.active=!0;var e=c.getComponent(sp.Skeleton);e.setAnimation(0,"up_top",!1),e.setCompleteListener(function(){e.setCompleteListener(null),c.active=!1}),n.callFunc(),n.callFunc=null}).start()):(this.winNum.string=slot.SlotUtils.formatNumber(e),this.winSp.play(),e<l?slot.SoundMger.instance.playEffect("Prize_Normal1"):e<2*l?slot.SoundMger.instance.playEffect("Broadcast_Box"):slot.SoundMger.instance.playEffect("Broadcast_Box_01"));this.showWinBg(p),!s.default.instance.isReward&&e<5*l&&(r.default.instance.playWin(p),slot.SoundMger.instance.playEffect("Winning_Rabbit_0"+Math.floor(8*Math.random())))}return o},e.prototype.showWinBg=function(t){void 0===t&&(t=1),t=Math.max(2,t);var e=this.winBgNode.reduce(function(t,e){return e.active?e:t},null);this.winBgNode.forEach(function(e,n){return e.active=n==t-1});var n=this.winBgNode.find(function(t){return t.active});e!=n&&(e.active=!0,e.opacity=255,cc.tween(e).to(.3,{opacity:0}).set({active:!1}).start(),n.opacity=0,cc.tween(n).to(.3,{opacity:255}).start())},e.instance=null,a([p(cc.Node)],e.prototype,"normalBannerNode",void 0),a([p(cc.Node)],e.prototype,"winNode",void 0),a([p(cc.Node)],e.prototype,"rewardBannerNode",void 0),a([p(cc.Animation)],e.prototype,"winSp",void 0),a([p(cc.Label)],e.prototype,"winNum",void 0),a([p(cc.Node)],e.prototype,"winBgNode",void 0),n=a([l],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../game/Rabbit111008201":"Rabbit111008201","./GameLayer111008201":"GameLayer111008201"}],JTBigElem111008201:[function(t,e,n){"use strict";cc._RF.push(e,"f8e67Ejo2VBgbrqw8T3haT1","JTBigElem111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../GameEventName111008201"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.addEventListenner=function(){},e.prototype.runningTask=function(){this.addStepTask(r.EventName.JT_BIG_ELEM),this.nextStep()},a([c],e)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111008201":"GameEventName111008201"}],JTCashElement111008201:[function(t,e,n){"use strict";cc._RF.push(e,"1bd7c0QB+1MXqdjFWtiujQz","JTCashElement111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../game/RewardTimes111008201"),s=t("../GameLayer111008201"),c=t("../GameRoller111008201"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.runningTask=function(){var e=this;t.prototype.runningTask.call(this),console.log("\u8fdb\u5165\u6d41\u7a0b\uff1a onJtCashElement"),s.default.instance.isReward&&(slot.SpinManager.instance.totalWin=0),c.default.instance.isCashWin&&s.default.instance.isReward?s.default.instance.playCashWin(function(){0!=r.default.curTimes&&(e.getLineParser().playLineMap=null),e.complete(),console.log("\u7ed3\u675f\u6d41\u7a0b\uff1a onJtCashElement2")}):(this.complete(),console.log("\u7ed3\u675f\u6d41\u7a0b\uff1a onJtCashElement1"))},e.prototype.complete=function(){console.log("JTCashElement111008201 complate"),t.prototype.complete.call(this)},a([p],e)}(slot.JTParseTask));n.default=u,cc._RF.pop()},{"../../game/RewardTimes111008201":"RewardTimes111008201","../GameLayer111008201":"GameLayer111008201","../GameRoller111008201":"GameRoller111008201"}],JTChildManager111008201:[function(t,e,n){"use strict";cc._RF.push(e,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=t("../SpinSlotViewExtend111008201"),r=t("./JTSkinnableRuntimeLineAnimationRender111008201"),s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,r.default),this},e}(slot.JTChildFactory);n.default=s,cc._RF.pop()},{"../SpinSlotViewExtend111008201":"SpinSlotViewExtend111008201","./JTSkinnableRuntimeLineAnimationRender111008201":"JTSkinnableRuntimeLineAnimationRender111008201"}],JTCollectWild111008201:[function(t,e,n){"use strict";cc._RF.push(e,"ce087QiN/1En65BgnBThdGQ","JTCollectWild111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../GameEventName111008201"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.runningTask=function(){t.prototype.runningTask.call(this),game.EventManager.getInstance().raiseEvent(r.EventName.JT_EVENT_WILD_THROW_PINENUT,slot.Handler.create(this,this.complete))},e.prototype.complete=function(){console.log("JTCollectWild111008201 complate"),t.prototype.complete.call(this)},a([c],e)}(slot.JTParseTask));n.default=l,cc._RF.pop()},{"../../GameEventName111008201":"GameEventName111008201"}],JTHuHuExit111008201:[function(t,e,n){"use strict";cc._RF.push(e,"ade10G3KhhA6oYSDyFb5vxD","JTHuHuExit111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../GameEventName111008201"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.addEventListenner=function(){},e.prototype.runningTask=function(){this.addStepTask(r.EventName.JT_HUHU_EXIT),this.nextStep()},a([c],e)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111008201":"GameEventName111008201"}],JTLayerManager111008201:[function(t,e,n){"use strict";cc._RF.push(e,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initialize=function(t){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,t);var e=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,t);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var n=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,t);this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,t),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,t).name="EFFECT_ABOVE_CONTAINER",e.launch(t),n.setup(t.config.getWidth(),t.config.getHeight(),130)},e.prototype.updateLayer=function(){},e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(e.WUDING_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this},e.WUDING_CONTAINER=1250,e}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTSkinnableRuntimeLineAnimationRender111008201:[function(t,e,n){"use strict";cc._RF.push(e,"2789bYAvytHd4k6dLanrB4G","JTSkinnableRuntimeLineAnimationRender111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){var e=t.call(this)||this;return e.aniLines=[],e}return i(e,t),e.prototype.createComplete=function(){var t=this.owner,e=slot.GData.getParameter("lineAniConfig");if(e){for(var n=t.scroller,o=n.config,i=new cc.Node,a=[],r=(n.isLandscape?t.landscapePoints:t.portraitPoints,t.lineId),s=e.linePoint[r].points,c=0;c<s.length-2;){var l=s[c],p=s[c+1],u=s[c+2];Math.atan2(p.y-l.y,p.x-l.x)==Math.atan2(u.y-p.y,u.x-p.x)?s.splice(c+1,1):c++}for(var d=0,f=0;f<s.length-1;f++){var h=s[f],y=s[f+1],m=y.x-h.x,_=y.y-h.y,g=slot.SlotUtils.toAngle(Math.atan2(_,m)),v=Math.sqrt(Math.pow(m,2)+Math.pow(_,2)),E=(y.x+h.x)/2-.5*o.girdWidth,N=(y.y+h.y)/2-.5*o.girdHeight;a.push({x:E,y:N,angle:g,width:v,distanceX:m}),d+=m}var R=0;for(f=0;f<a.length;f++){var S=this.aniLines[f];S||(S=slot.LineAnimationManager.instance.createLineAni(),this.aniLines[f]=S),S.node.angle=a[f].angle,S.node.x=a[f].x,S.node.y=a[f].y,S.node.parent&&S.node.removeFromParent(),i.addChild(S.node);var w=.7*R/d*.6;R+=a[f].distanceX;var T="left";a.length>1&&0==f&&(T="left"),a.length>1&&f==a.length-1&&(T="right"),S.play(a[f].width,w,T)}this._skinContainer=i,n.lineContainer.addChild(i)}},e.prototype.removeLines=function(){for(var t=0,e=this.aniLines;t<e.length;t++)e[t].node.removeFromParent()},e.prototype.show=function(){t.prototype.show.call(this),this.createComplete()},e.prototype.hide=function(){t.prototype.hide.call(this),this.removeLines();var e=this.owner.scroller;e.lineContainer&&e.lineContainer.removeChild(this._skinContainer)},e}(slot.JTRuntimeSkinnableLine);n.default=a,cc._RF.pop()},{}],JTTenRate111008201:[function(t,e,n){"use strict";cc._RF.push(e,"71a04nONd9JqYJfUyVfAfJ5","JTTenRate111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameLayer111008201"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.addEventListenner=function(){},e.prototype.runningTask=function(){var t=this;if(!r.default.instance.isReward){var e=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin);if(e>0&&(cc.find("scrollerLayer/mask/speed",r.default.instance.node).active=!0,e>=5*slot.SpinManager.instance.betCost))return void cc.tween(this).delay(2).call(function(){return t.complete()}).start()}this.complete()},a([c],e)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../GameLayer111008201":"GameLayer111008201"}],LanguageInfo111008201:[function(t,e,n){"use strict";cc._RF.push(e,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},a([s],e)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LineAnimation60:[function(t,e,n){"use strict";cc._RF.push(e,"f3f91SFYw1D/bopxsnp7sex","LineAnimation60");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineConfigs=null,e.leftLine=null,e.rightLine=null,e.site="left",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){this.lineConfigs=t;for(var e=0;e<t.length;e++)t[e].width},e.prototype.play=function(t,e,n){var o;switch(this.site=n,this.site){case"left":o=this.leftLine;break;case"right":o=this.rightLine}this.scheduleOnce(function(){o.node.active=!0,o.node.scaleX=t/o.node.width+.1,o.node.scaleY=.7,o.play("ani")},e)},e.prototype.setChildLine=function(t,e){var n=this.lineConfigs[t],o=new cc.Node;this.node.addChild(o),o.width=n.width,o.addComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE;for(var i=o.addComponent(cc.Animation),a=[],r=0;r<n.spriteFrames.length;r++){var s=n.spriteFrames[r],c=e.getSpriteFrame(s);a.push(c)}a.sort(function(t,e){return t.name.localeCompare(e.name,"zh-CN",{numeric:!0})});var l=cc.AnimationClip.createWithSpriteFrames(a,n.simple);switch(l.name="ani",l.speed=n.speed,i.addClip(l),l.wrapMode=cc.WrapMode.Normal,o.active=!1,n.site){case"left":this.leftLine=i;break;case"right":this.rightLine=i}},a([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],LineAnimationManager60:[function(t,e,n){"use strict";cc._RF.push(e,"4c80aGjwqRO7KTpW8N1VlC3","LineAnimationManager60"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./LineAnimation60"),i=function(){function t(){this.atlasList=[]}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;if(this._lineAniconfig=slot.GData.getParameter("lineAniConfig"),this._lineAniconfig)for(var e=this._lineAniconfig.animationAtlas,n=function(n){e[n];var o=n;game.ResLoader.getInstance().loadRes("textures/slotMachine/payline_light/zhongjianglianxian",cc.SpriteAtlas,function(e,n){t.loadAssetComplete(n,o)},slot.GData.bundleName)},o=0;o<e.length;o++)n(o)},t.prototype.loadAssetComplete=function(t,e){this.atlasList[e]=t},t.prototype.createLineAni=function(){var t=(new cc.Node).addComponent(o.default);t.init(this._lineAniconfig.animationAtlas);for(var e=0;e<this.atlasList.length;e++){var n=this.atlasList[e];t.setChildLine(e,n)}return t},t.prototype.dispose=function(){},t._instance=null,t}();n.default=i,cc._RF.pop()},{"./LineAnimation60":"LineAnimation60"}],LineNumMgr111008201:[function(t,e,n){"use strict";cc._RF.push(e,"eac81l5wfxAlJBk5AZPZbky","LineNumMgr111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111008201"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lightLeftNode=[],e.lightRightNode=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),this.reset()},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this)},e.prototype.reset=function(){this.lightLeftNode.forEach(function(t){t.active=!1}),this.lightRightNode.forEach(function(t){t.active=!1})},e.prototype.onGameSpinStart=function(){this.reset()},e.prototype.showLineId=function(t){t<=0||t>=11||(this.lightLeftNode[t].active=!0,this.lightRightNode[t].active=!0)},e.instance=null,a([l(cc.Node)],e.prototype,"lightLeftNode",void 0),a([l(cc.Node)],e.prototype,"lightRightNode",void 0),n=a([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111008201":"GameEventName111008201"}],Main111008201:[function(t,e,n){"use strict";cc._RF.push(e,"57d00zdnbpIl73C/PZZzTrK","Main111008201");var o,i,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=t("../roller/WinAnimanager111006501"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e)},e.prototype.getWinAniManagerClass=function(){return c.default},r([p],e)}(slot.MainView));n.default=u,function(t){t[t.REWARD_EFFECT=100]="REWARD_EFFECT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.REWARD_EFFECT]={bundleName:"game_111008201",path:"prefabs/slotMachine/rewardEffect",preventKeyboard:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip,loadingAni:!1},i),slot.SlotMachineView.prototype.rollingResultResp=function(){this._scroller.isManualStopEnabled=!0,this._scroller.runningRuleTasks(),this._scroller.rendersDataReady(),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GET_ROLLING_RESULT_RESP)},slot.JTScrollerGroup.prototype.changeDataMode=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=[]),this._dataProvider||(this._dataProvider=this._factoryModel.produce(slot.JTModelFactory.SCROLLERGROUP_DATA_MODEL,this),this._dataProvider.initialize()),this._dataProvider.setDataMode(t?slot.JTArrayCollection.FREE_MODE:slot.JTArrayCollection.NORMAL_MODE,e,n)},cc._RF.pop()},{"../roller/WinAnimanager111006501":"WinAnimanager111006501"}],MultiPSRandomRefresh:[function(t,e,n){"use strict";cc._RF.push(e,"19005yvFLVNIo+HY4oqIXcW","MultiPSRandomRefresh");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.aniFps=15,e.psNodeNum=5,e.emissionRate=10,e.psIndexArray=[],e.psArray=[],e.count=0,e.spriteArray=[],e}return i(e,t),e.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var t=Math.round(Math.random()*this.count);for(this.psIndexArray.push(t);this.psArray.length<this.psNodeNum;){var e=cc.instantiate(this.psArray[0].node);e.parent=this.psArray[0].node.parent;var n=Math.round(Math.random()*this.count);this.psIndexArray.push(n),this.psArray.push(e.getComponent(cc.ParticleSystem))}}},e.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},e.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},e.prototype.refreshSprite=function(){for(var t=0;t<this.psArray.length;t++){var e=this.psArray[t];this.psIndexArray[t]>=this.count&&(this.psIndexArray[t]=0),e.spriteFrame=this.spriteArray[this.psIndexArray[t]],e.emissionRate=this.emissionRate,e.autoRemoveOnFinish=!1,this.psIndexArray[t]++}},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],e.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],e.prototype,"aniFps",void 0),a([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],e.prototype,"psNodeNum",void 0),a([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],e.prototype,"emissionRate",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],NoteNum111008201:[function(t,e,n){"use strict";cc._RF.push(e,"bb441MSZcdJgrXmrGTy/iKD","NoteNum111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../NumAtlasLabel111008201"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numAtlas=[],e}return i(e,t),e.prototype.setGold=function(t,e){this.hideNum();var n=slot.SpinManager.instance.betCost,o=this.numAtlas[0];t/n>=51?o=this.numAtlas[2]:t/n>=6&&(o=this.numAtlas[1]),null!=e&&(o=this.numAtlas[e]),o.node.active=!0,o.node.opacity=255,o.string=t%100==0?slot.SlotUtils.formatNumber(t,0):slot.SlotUtils.formatNumber(t,2)},e.prototype.hideNum=function(){this.numAtlas.forEach(function(t){t.node.active=!1})},e.prototype.setOpacity=function(){this.numAtlas.forEach(function(t){t.node.opacity=255})},a([l(r.default)],e.prototype,"numAtlas",void 0),a([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../NumAtlasLabel111008201":"NumAtlasLabel111008201"}],NumAtlasLabel111008201:[function(t,e,n){"use strict";cc._RF.push(e,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.executeInEditMode,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myColor=cc.Color.WHITE,e._numAtlas=null,e.numTween=null,e._curNum=0,e._curCoinNum=0,e._numPath="",e}return i(e,t),Object.defineProperty(e.prototype,"numAtlas",{get:function(){return this._numAtlas},set:function(t){this._numAtlas=t,this.setAtlasNum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numPath",{get:function(){return this._numPath},set:function(t){this._numPath=t,this.setAtlasNum()},enumerable:!1,configurable:!0}),e.prototype.setNumber=function(){},Object.defineProperty(e.prototype,"curNum",{get:function(){return this._curNum},set:function(t){this._curNum=t,this.string=Math.floor(t).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curCoinNum",{get:function(){return this._curCoinNum},set:function(t){this._curCoinNum=t,this.string=slot.SlotUtils.formatNumber(t)},enumerable:!1,configurable:!0}),e.prototype.setAtlasNum=function(){if(this.numAtlas)for(var t=function(t){var n=e.AtlsElment.find(function(e){return e.id==t.toString()});n||(n=new slot.AtlsElmentConfig,e.AtlsElment.push(n)),n.id=t.toString();var o=e._numPath;n.elmentSpriteFrame=e._numAtlas.getSpriteFrame(""+o+t)},e=this,n=0;n<10;n++)t(n);this.resetPicFromNum()},e.prototype.runToNumber=function(t,e,n){var o=this;void 0===e&&(e=1),void 0===n&&(n=null),this.numTween&&(this.numTween.stop(),n&&n(),this.numTween=null),this.numTween=cc.tween(this).to(e,{curCoinNum:t}).call(function(){n&&n(),o.numTween=null}).start()},e.prototype.stopNumberTween=function(){this.numTween&&this.numTween.stop(),this.numTween=null},e.prototype.runJumpToNumber=function(t,e){void 0===e&&(e=1),this.string=t.toString(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({scale:.9*e}).to(.1,{scale:1.1*e}).to(.1,{scale:e}).start()},e.prototype.runWayNumber=function(t,e){var n=this;void 0===e&&(e=4);var o=5;this.string="...",cc.Tween.stopAllByTarget(this),cc.tween(this).delay(.2).call(function(){--o<=0&&(o=1);var e=Math.floor(t/o);n.string=e.toString()}).union().repeat(4).start()},e.prototype.resetPicFromNum=function(){t.prototype.resetPicFromNum.call(this);var e=this;e.containerNode.children.forEach(function(t){t&&(t.color=e.myColor.clone())})},e.prototype.update=function(){},a([l(cc.Color)],e.prototype,"myColor",void 0),a([l(cc.SpriteAtlas)],e.prototype,"numAtlas",null),a([l(cc.String)],e.prototype,"numPath",null),a([l(cc.Integer)],e.prototype,"curNum",null),a([s,c],e)}(slot.CommonNumAtlasBase);n.default=p,cc._RF.pop()},{}],Rabbit111008201:[function(t,e,n){"use strict";cc._RF.push(e,"75b689a0LFAO5vApd4zn4wn","Rabbit111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../roller/GameLayer111008201"),s=t("../roller/GameRoller111008201"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spRole=null,e._curLvl=1,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){var t=this;n.instance=this;var e=this;e.spRole=e.node.getComponent(sp.Skeleton),e.playFxLevel(),e.playAnima("idle"),e.spRole.setCompleteListener(function(t){"freespin"==t.animation.name&&e.hideRole()}),this.setFxLevel(),this.schedule(function(){"idle"==t.spRole.animation&&(t.spRole.setAnimation(0,"idle"+Math.floor(2*Math.random()+2),!1),t.spRole.addAnimation(0,"idle",!0))},60)},e.prototype.playIdleAnima=function(){var t=game.ComUtils.getIntRandom(2,3);3!=t&&this.playAnima("idle"+t),4==t?slot.SoundMger.instance.playEffect("Tiger_Sleepy_Sound",!1):slot.SoundMger.instance.playEffect("Tiger_Sound_Effects",!1)},e.prototype.playAnima=function(t,e){void 0===e&&(e=!1),this.spRole.setAnimation(0,t,e),e||this.spRole.addAnimation(0,"idle",!0)},e.prototype.playFxLevel=function(){var t=s.default.instance.getVfxLevel();this.playCollectWild();var e="vfx_lvl"+t,n="vfx_collect_fx1";2==t?n="vfx_collect_fx1_to_2":3==t&&(n="vfx_collect_fx2_to_3"),this.spRole.setAnimation(1,n,!1),this.spRole.addAnimation(1,e,!0)},e.prototype.setFxLevel=function(t){void 0===t&&(t=1);var e="vfx_lvl"+t;this._curLvl=t,this.spRole.setAnimation(1,e,!0)},e.prototype.playCollectWild=function(){this.playAnima("wild_collect")},e.prototype.playWin=function(t){void 0===t&&(t=1),2==t?this.playAnima("win2"):1==t?this.playAnima("win"):3==t&&this.playAnima("win3")},e.prototype.playTease=function(){this.spRole.setToSetupPose(),cc.find("scrollerLayer/fs_vfx_e_add",r.default.instance.node).active=!0,this.spRole.setAnimation(0,"tease_start",!1),this.spRole.addAnimation(0,"tease_idle",!0),this.setFxLevel(3)},e.prototype.playFreeSpin=function(){this.playAnima("freespin")},e.prototype.playRespawn=function(){this.spRole.node.active=!0,this.playAnima("respawn")},e.prototype.hideRole=function(){this.spRole.node.active=!1,cc.find("scrollerLayer/fs_vfx_e_add",r.default.instance.node).active=!1},e.prototype.showRole=function(){this.spRole.node.active=!0},e.instance=null,n=a([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../roller/GameLayer111008201":"GameLayer111008201","../roller/GameRoller111008201":"GameRoller111008201"}],RespinBanner111008201:[function(t,e,n){"use strict";cc._RF.push(e,"27246tjQNtNRomohn6ponBL","RespinBanner111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.itemAtlas=null,e.leftSprite=null,e.itemSprite=null,e.rightSprite=null,e.startX=0,e.bannerTextNode=null,e.itemName=["","h_orange","h_firecracker","h_angbao","h_pouch","h_ruyi","h_ingot"],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(o){switch(o.label){case 0:return n.instance=this,t=this,[4,this.loadAtlas()];case 1:return t.atlas=o.sent(),e=this,[4,this.loadAtlas("textures/slotMachine/card/normal_symbol")];case 2:return e.itemAtlas=o.sent(),this.initSprite(),this.hide(),[2]}})})},e.prototype.loadAtlas=function(t){return void 0===t&&(t=null),r(this,void 0,Promise,function(){var e=this;return s(this,function(){return t=null!=t?t:"textures/chat/"+slot.GData.curLanguage+"/infoboard_text",[2,new Promise(function(n,o){e.loadRes(t,cc.SpriteAtlas,function(t,e){t?o(null):n(e)},slot.GData.bundleName)})]})})},e.prototype.initSprite=function(){this.leftSprite.spriteFrame=this.atlas.getSpriteFrame("info_respin1"),this.rightSprite.spriteFrame=this.atlas.getSpriteFrame("info_respin2")},e.prototype.setItem=function(t){var e=this.itemName[t];console.log("Item Name = ",e),this.itemSprite.spriteFrame=this.itemAtlas.getSpriteFrame(e),this.onPlayBanner()},e.prototype.show=function(){this.node.active=!0,this.bannerTextNode.opacity=0},e.prototype.hide=function(){this.node.active=!1,this.bannerTextNode.opacity=255},e.prototype.onPlayBanner=function(){var t=this;if(cc.Tween.stopAllByTarget(this.node),this.node.width>this.node.parent.width){this.node.anchorX=0;var e=this.startX-this.node.parent.width/2,n=-this.node.parent.width/2-this.node.width;cc.tween(this.node).set({x:e}).delay(.2).to(10,{x:n}).delay(.5).call(function(){t.onPlayBanner()}).start()}else this.node.x=0,this.node.anchorX=.5},e.instance=null,a([p(cc.Sprite)],e.prototype,"leftSprite",void 0),a([p(cc.Sprite)],e.prototype,"itemSprite",void 0),a([p(cc.Sprite)],e.prototype,"rightSprite",void 0),a([p(cc.Float)],e.prototype,"startX",void 0),a([p(cc.Node)],e.prototype,"bannerTextNode",void 0),n=a([l],e)}(slot.BaseView);n.default=u,cc._RF.pop()},{}],RewardEffect111008201:[function(t,e,n){"use strict";cc._RF.push(e,"550a6xbXrRPdKHCtMhOrHnA","RewardEffect111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../roller/GameLayer111008201"),s=t("./Rabbit111008201"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameSp=null,e.logoNode=null,e.lightSp=null,e.fsNode=null,e.maskNode=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){},e.prototype.init=function(){n.instance=this,this.hide(),window.rewardEffect=this;var t=this;t.logoNode.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(e,n){"rabbit_logo_show"==n.name&&t.logoNode.getComponent(cc.Animation).play("rabbit_logo_idle")})},e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this;i.maskNode.opacity=0,i.frameSp.node.active=!1,i.logoNode.active=!0,i.logoNode.getComponent(cc.Animation).play("rabbit_logo_show");var a=i.node.getChildByName("back_ray");i.scheduleOnce(function(){i.showFrame()},3),cc.tween(this).delay(5.5).call(function(){cc.find("scrollerLayer/rabbit",r.default.instance.node).active=!0,a.active=!0}).delay(2).call(function(){cc.tween(a).to(1,{opacity:0}).set({opacity:255,active:!1}).start()}).start(),i.lightSp.node.active=!0,cc.tween(i.lightSp.node).delay(5.5).to(.2,{opacity:0}).set({opacity:255,active:!1}).start(),i.scheduleOnce(function(){e.hide()},10)},e.prototype.showFrame=function(){slot.SoundMger.instance.playEffect("Mode_Rabbit_Sound"),slot.SoundMger.instance.playMusic("Game_Music",!0),slot.SoundMger.instance.stopMusic("Game_Back_Music"),this.logoNode.getComponent(cc.Animation).play("rabbit_logo_hide"),this.frameSp.node.active=!0,this.frameSp.setAnimation(0,"rabbit",!1),this.fsNode.opacity=0,cc.tween(this.fsNode).delay(.4).set({opacity:255}).call(function(){slot.SoundMger.instance.playEffect("Bullet_Box_Comes",!1),slot.SoundMger.instance.playEffect("Firework_Explosion",!1)}).delay(2).to(.2,{opacity:0}).start()},e.prototype.hideView=function(){},e.prototype.fakeShow=function(){var t=this;this.node.active=!0;var e=this;e.maskNode.opacity=0,e.frameSp.node.active=!1,e.logoNode.active=!0,e.lightSp.node.active=!0,cc.tween(e.lightSp.node).delay(2).to(.2,{opacity:0}).set({opacity:255,active:!1}).start(),e.logoNode.getComponent(cc.Animation).play("rabbit_logo_show"),r.default.instance.playAwardStart(),e.scheduleOnce(function(){t.logoNode.getComponent(cc.Animation).play("rabbit_logo_hide"),r.default.instance.playAwardStop(),t.scheduleOnce(function(){s.default.instance.playAnima("idle"),t.hide()},.6)},2)},e.prototype.show=function(t){void 0===t&&(t=!1),this.node.active=!0,this.onOpen(111,[[]])},e.prototype.hide=function(){this.node.active=!1},e.prototype.showMask=function(){this.maskNode.opacity=0,cc.tween(this.maskNode).to(.5,{opacity:120}).start()},e.prototype.hideMask=function(){cc.Tween.stopAllByTarget(this.maskNode),cc.tween(this.maskNode).to(.5,{opacity:0}).start()},e.instance=null,a([p(sp.Skeleton)],e.prototype,"frameSp",void 0),a([p(cc.Node)],e.prototype,"logoNode",void 0),a([p(sp.Skeleton)],e.prototype,"lightSp",void 0),a([p(cc.Node)],e.prototype,"fsNode",void 0),a([p(cc.Node)],e.prototype,"maskNode",void 0),n=a([l],e)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../roller/GameLayer111008201":"GameLayer111008201","./Rabbit111008201":"Rabbit111008201"}],RewardTimes111008201:[function(t,e,n){"use strict";cc._RF.push(e,"1b008C4tEBCSIx3Og2Y+WSU","RewardTimes111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../NumAtlasLabel111008201"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lfsNode=null,e.rfsNode=null,e.timesNumAtas=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){},e.prototype.init=function(){n.instance=this,0!=n.curTimes&&this.updateTimes(n.curTimes)},e.prototype.updateTimes=function(t){this.lfsNode.active=t<1,this.rfsNode.active=!this.lfsNode.active,this.timesNumAtas.string=t.toString(),n.curTimes=t},e.instance=null,e.curTimes=0,a([l(cc.Node)],e.prototype,"lfsNode",void 0),a([l(cc.Node)],e.prototype,"rfsNode",void 0),a([l(r.default)],e.prototype,"timesNumAtas",void 0),n=a([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../NumAtlasLabel111008201":"NumAtlasLabel111008201"}],Role111008201:[function(t,e,n){"use strict";cc._RF.push(e,"85ea33X7ztMwLs75Oi050st","Role111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameEventName111008201"),s=t("./GameRoller111008201"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spRole=null,e._curTimeSpin=0,e._waitTimeSpin=10,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.spRole=this.node.getComponent(sp.Skeleton),this.playFxLevel(),this.playTigerAnima("idle"),this.addEventListener()},e.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this)},e.prototype.playStartRs=function(){this.spRole.setAnimation(0,"rs_start",!1),this.spRole.addAnimation(0,"rs_idle",!0)},e.prototype.playRsWin=function(){this.spRole.setAnimation(0,"rs_win",!1),this.spRole.addAnimation(0,"rs_win_idle",!0)},e.prototype.playRsExit=function(){this.spRole.setAnimation(0,"rs_win_exit",!1),this.spRole.addAnimation(0,"idle",!0)},e.prototype.playZoStart=function(){this.clearFxAnima(),this.spRole.setAnimation(0,"zo_start",!1),this.spRole.addAnimation(0,"zo_idle",!0)},e.prototype.playZoExit=function(){this.spRole.setAnimation(0,"zo_exit",!1),this.spRole.addAnimation(0,"idle",!0)},e.prototype.playFxLevel=function(t){void 0===t&&(t=1),1==t?this.spRole.setAnimation(1,"fx_idle",!0):t>1&&t<4&&(this.spRole.setAnimation(1,"fx_wild_collect"+t,!1),this.spRole.addAnimation(1,"fx_idle"+t,!0),this.playCollectWild())},e.prototype.playCollectWild=function(){this.playTigerAnima("wild_collect")},e.prototype.playTigerAnima=function(t,e){void 0===e&&(e=!1),this.spRole.setAnimation(0,t,e),e||this.spRole.addAnimation(0,"idle",!0)},e.prototype.playFxAnima=function(t,e){void 0===e&&(e=!1),this.spRole.setAnimation(1,t,e)},e.prototype.clearFxAnima=function(){this.spRole.clearTrack(1),this.spRole.setToSetupPose()},e.prototype.playIdleAnima=function(){if(!s.default.instance.isCashMode){var t=game.ComUtils.getIntRandom(2,5);3!=t&&this.playTigerAnima("idle"+t),4==t?slot.SoundMger.instance.playEffect("Tiger_Sleepy_Sound",!1):slot.SoundMger.instance.playEffect("Tiger_Sound_Effects",!1)}},e.prototype.playWin=function(){var t=game.ComUtils.getIntRandom(0,1);0==t?this.playTigerAnima("win"):this.playTigerAnima("win2"),0==(t=game.ComUtils.getIntRandom(0,4))?slot.SoundMger.instance.playEffect("Tiger_Sound",!1):slot.SoundMger.instance.playEffect("Tiger_Sound_0"+t,!1)},e.prototype.update=function(t){this._curTimeSpin>this._waitTimeSpin&&(this._curTimeSpin=0,this.playIdleAnima()),this._curTimeSpin+=t},e.prototype.onGameSpinStart=function(){this._curTimeSpin=0},e.instance=null,n=a([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../GameEventName111008201":"GameEventName111008201","./GameRoller111008201":"GameRoller111008201"}],SpinSlotViewExtend111008201:[function(t,e,n){"use strict";cc._RF.push(e,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../common/LineNumMgr111008201"),c=t("../game/NoteNum111008201"),l=t("./GameLayer111008201"),p=t("./GameRoller111008201"),u=t("./InfoLayer111008201"),d=function(t){function e(){var e=t.call(this)||this;return e._gold=0,e._goldNum=null,e.delayNum=0,e._frameAnimaNode=null,e._collectAnimaNode=null,e._glowAnimaNode=null,e.isBlur=!0,e.isFade=!1,e.isFadeMask=!0,e.skinLoader.skeletonNode.scale=1.1,e}return i(e,t),e.prototype.onPlayAnimation=function(){var t=this;7==this.data?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win",!1,function(){t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0)}):(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win",!0),this.skinLoader.skeletonNode.scale=1.1),this._showFrameAniView(),1==this.data&&(cc.tween(this._goldNum.node).to(.2,{scale:1.1}).to(.2,{scale:1}).start(),this.skinLoader.spriteNode.getComponent(cc.Sprite).spriteFrame=slot.SlotGameManager.instance.getCardByName("s_cash_on"))},e.prototype.onPlayIdleAnimaition=function(){this.gotoAndStop(0)},e.prototype.playWildAnimation=function(){this._inAni=!1},e.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},e.prototype.onRollEnd=function(){var t=this;7==this.data?(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1,function(){t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle",!0)}),Date.now()-(window.WildSound||0)>100&&(slot.SoundMger.instance.playEffect("Wild_Appears_Sound"),window.WildSound=Date.now())):this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn",!1),3!=this.index&&11!=this.index||7!=this.data&&1!=this.data||(this.data=3)},e.prototype.isResetBeforeScrolling=function(){return!0},e.prototype.reset=function(){this._goldNum&&(this._goldNum.node.active=!1),t.prototype.reset.call(this)},e.prototype.onDataOrStageChange=function(){var t=this;this.clearSpinNode(),this.showGoldNum(),cc.tween(l.default.instance).delay(0).call(function(){t.showGoldNum()}).start(),this.currentFrame==slot.JTItemRender.STATE_DEFAULT?7==this.data?this.skinLoader.skeletonNode.scale=.9:this.skinLoader.skeletonNode.scale=1:this.currentFrame==slot.JTItemRender.STATE_ROLLING&&(this.skinLoader.spriteNode.scale=1),1==this.currentFrame&&this._goldNum&&this._goldNum.node.children.forEach(function(t){return t.opacity=255})},e.prototype.getGoldNum=function(){if(this._goldNum)return this._goldNum;var t=cc.instantiate(l.default.instance.goldNum);return t.parent=this.skinLoader,t.setSiblingIndex(10),this._goldNum=t.getComponent(c.default),this._goldNum},e.prototype.showGoldNum=function(){var t=this,e=this.getGoldNum();if(this.delayNum>0&&e.node.active)cc.tween(this).delay(this.delayNum).call(function(){t.delayNum=0}).start();else if(e.node.active=1==this.data,1==this.data){var n=this._gold=p.default.instance.getGridReward(this.index+1);e.setGold(n)}},e.prototype._showFrameAniView=function(){return a(this,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return this.clearSpinNode(),[4,this.createSpineNode("skeleton/jqt/win/win",!1)];case 1:return n.sent(),this._frameAnimaNode&&(this._frameAnimaNode.active=!0,this._frameAnimaNode.scale=1,1==this.data&&(this._frameAnimaNode.scale=1),this._frameAnimaNode.y=0,this._frameAnimaNode.opacity=255,(t=this._frameAnimaNode.getComponent(sp.Skeleton))&&(e=["win","cash","firecracker","coin","angpao","pouch","ingot","wild","carrot"][this.data])&&t.setAnimation(0,e,!1)),[2]}})})},e.prototype.onStartRoll=function(){t.prototype.onStartRoll.call(this),this.clearSpinNode()},e.prototype.clearSpinNode=function(){this._frameAnimaNode&&(this._frameAnimaNode.destroy(),this._frameAnimaNode=null)},e.prototype._recoverSlotFrameAniView=function(){this._frameAnimaNode&&(this._frameAnimaNode.destroy(),this._frameAnimaNode=null),this._collectAnimaNode&&(this._collectAnimaNode.destroy(),this._collectAnimaNode=null),this._glowAnimaNode&&(this._glowAnimaNode.destroy(),this._glowAnimaNode=null)},e.prototype.createSpineNode=function(t,e){return void 0===e&&(e=!1),a(this,void 0,Promise,function(){var n,o=this;return r(this,function(){return this._frameAnimaNode=new cc.Node,this.addEffectNode(this._frameAnimaNode,e),this._frameAnimaNode.name="effectSpinNode",(n=this._frameAnimaNode.addComponent(sp.Skeleton)).loop=!0,n.premultipliedAlpha=!0,[2,new Promise(function(e,i){game.ResLoader.getInstance().loadRes(t,sp.SkeletonData,null,function(t,a){if(t)return i("error: "+t),t;o._frameAnimaNode&&n&&n.isValid&&(n.skeletonData=a),e(o._frameAnimaNode)},slot.GData.bundleName)})]})})},e.prototype.playCollect=function(t){slot.SoundMger.instance.playEffect("Wild_Sound",!1);var e=this.getChildByName("collectFx");e||((e=cc.instantiate(l.default.instance.node.getChildByName("collectFx"))).parent=this),e.active=!0,e.getComponent(cc.Animation).play().once("stop",function(){e.active=!1}),cc.tween(this.skinLoader).to(.1,{scale:.72}).to(.3,{scale:.7}).call(function(){t&&t.run()}).start()},e.prototype.onStopRewardsAnimation=function(){var t=l.default.instance.scroller.effectAboveContainer.getChildByName("bgNode");t&&(t.active=!1)},e.prototype.playRewardsAnimation=function(e,n,o,i){s.default.instance.reset(),s.default.instance.showLineId(e.lineId),t.prototype.playRewardsAnimation.call(this,e,n,o,i)},e.prototype.playWinCoin=function(e,n,o){t.prototype.playWinCoin.call(this,e,n,o),slot.SpinSlotView.winLabelNode.parent.active=!0,cc.Tween.stopAllByTag(1234),cc.tween(this).delay(2).call(function(){slot.SpinSlotView.winLabelNode.parent&&(slot.SpinSlotView.winLabelNode.parent.active=!1)}).tag(1234).start()},e.prototype.playCashWin=function(t){this._flyGoldToInfo(t)},e.prototype._flyGoldToInfo=function(t){var e=this;slot.SoundMger.instance.playEffect("Amount_Drop_Sound");var n=cc.instantiate(this._goldNum.node);n.getComponent(cc.Sprite).enabled=!1;var o=this._goldNum.node.parent.convertToWorldSpaceAR(this._goldNum.node.position);o=l.default.instance.flyNumLayer.convertToNodeSpaceAR(o),n.position=o,n.parent=l.default.instance.flyNumLayer,n.scale=.73,this._goldNum.node.children.forEach(function(t){return t.opacity=150}),slot.SoundMger.instance.playEffect("4"),cc.tween(n).bezierTo(.6,cc.v2(0,n.y),cc.v2(0,-248),cc.v2(0,-325),{easing:"quintIn"}).call(function(){u.default.instance.addGoldWin(e._gold),slot.SoundMger.instance.playEffect("Bonus_Symbol_Winning_Sound_0"+t)}).removeSelf().start()},e}(slot.SpinSlotView);n.default=d,cc._RF.pop()},{"../common/LineNumMgr111008201":"LineNumMgr111008201","../game/NoteNum111008201":"NoteNum111008201","./GameLayer111008201":"GameLayer111008201","./GameRoller111008201":"GameRoller111008201","./InfoLayer111008201":"InfoLayer111008201"}],Test111008201:[function(t,e,n){"use strict";cc._RF.push(e,"22fafx4ybtH+o/NjfT/FEm/","Test111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,t("../game/DropLayer111008201")),l=t("../game/Rabbit111008201"),p=t("../game/RewardEffect111008201"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onClickTest=function(){l.default.instance.playTease()},e.prototype.onClickTest2=function(){p.default.instance.show(),this.scheduleOnce(function(){c.default.instance.runDrop()},6)},a([s],e)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../game/DropLayer111008201":"DropLayer111008201","../game/Rabbit111008201":"Rabbit111008201","../game/RewardEffect111008201":"RewardEffect111008201"}],Toggle111008201:[function(t,e,n){"use strict";cc._RF.push(e,"e65d32j/sdJc5DRtV+/mO8A","Toggle111008201");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleGroup=[],e._curIndex=0,e}return i(e,t),Object.defineProperty(e.prototype,"curIndex",{get:function(){return this._curIndex},set:function(t){this._curIndex=t,this.updateGroup()},enumerable:!1,configurable:!0}),e.prototype.updateGroup=function(){var t=this;this.toggleGroup.forEach(function(e,n){e.active=t._curIndex==n})},a([c(cc.Node)],e.prototype,"toggleGroup",void 0),a([c(cc.Integer)],e.prototype,"curIndex",null),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],WinAnimanager111006501:[function(t,e,n){"use strict";cc._RF.push(e,"4c960AIvt1E6Yn4wOmmC18V","WinAnimanager111006501");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.customAniNode=null,e}return i(e,t),e.prototype.onLoad=function(){return r(this,void 0,Promise,function(){return s(this,function(e){switch(e.label){case 0:return[4,t.prototype.onLoad.call(this)];case 1:return e.sent(),this.winCoinLabel.node.zIndex=200,this.winTextLayer.children.forEach(function(t){t.anchorY=0}),[2]}})})},e.prototype.playWinTextFadeIn=function(t){t.x,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,t);var e=this.node.scale;return 0==t.getSiblingIndex()&&(this.node.scale=.7*e,this.node.opacity=0,cc.tween(this.node).to(.3,{scale:e,opacity:255}).start()),null},e.prototype.onStageChange=function(){},e.prototype.stopCoin=function(){var t=this;game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END),this.winTextLayer.children.forEach(function(t){t.anchorY=0});var e=this.winTextLayer.children.reduce(function(t,e){return e.active?e:t},null);cc.tween(e).set({opacity:0,scale:0}).to(.3,{opacity:255,scale:1.1}).to(.2,{scale:1}).start(),this.customAniNode&&(this.customAniNode.active=!0,this.customAniNode.getComponent(sp.Skeleton).setAnimation(0,"start_glow",!1)),["big_win_fx","mega_win_fx","smega_win_avatar"].forEach(function(e,n){var o=t.aniLayer.getChildByName(e);if(o.active){var i=["bigwin_NoSpread","magewin_NoSpread","supermagewin_under_NoSpread_b"][n];o.getComponent(sp.Skeleton).setAnimation(0,i,!0)}}),cc.tween(this.winCoinLabel.node).by(.2,{scale:.1}).by(.2,{scale:-.1}).start()},e.prototype.onPlayFinalAnimation=function(){this.stopCoin()},e.prototype.onCoinIncreaseEnd=function(){this.stopCoin()},e.prototype.playFadeOut=function(t){cc.tween(this.node).to(.5,{opacity:0}).call(function(){t.run()}).start()},e.prototype.loadCustomResource=function(){return r(this,void 0,Promise,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return this.customAniNode||(this.customAniNode=new cc.Node,this.customAniNode.parent=this.node,this.customAniNode.zIndex=199,this.customAniNode.active=!1,(t=this.customAniNode.addComponent(sp.Skeleton)).premultipliedAlpha=!1,t.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE)),e=this.customAniNode.getComponent(sp.Skeleton),[4,this.loadResAsync("skeleton/jqt/bigwin/bigwin",sp.SkeletonData,function(t,n){t||(e.skeletonData=n)},slot.GData.bundleName)];case 1:return n.sent(),[2]}})})},e.prototype.onReleaseResource=function(){this.customAniNode&&(this.customAniNode.removeFromParent(),this.customAniNode.destroy(),this.customAniNode=null)},a([l],e)}(slot.WinAniManager));n.default=p,cc._RF.pop()},{}]},{},["GameEventName111008201","NumAtlasLabel111008201","BigWinText111008201","LineNumMgr111008201","MultiPSRandomRefresh","Toggle111008201","EffectLayer111008201","GameBg111008201","Test111008201","DropLayer111008201","NoteNum111008201","Rabbit111008201","RewardEffect111008201","RewardTimes111008201","LanguageInfo111008201","Main111008201","Banner111008201","GameLayer111008201","GameRoller111008201","InfoLayer111008201","RespinBanner111008201","Role111008201","SpinSlotViewExtend111008201","WinAnimanager111006501","GameLogic111008201","JTBigElem111008201","JTCashElement111008201","JTChildManager111008201","JTCollectWild111008201","JTHuHuExit111008201","JTLayerManager111008201","JTSkinnableRuntimeLineAnimationRender111008201","JTTenRate111008201","LineAnimation60","LineAnimationManager60"]);